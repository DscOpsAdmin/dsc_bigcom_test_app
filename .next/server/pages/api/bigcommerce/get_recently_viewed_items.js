"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/bigcommerce/get_recently_viewed_items";
exports.ids = ["pages/api/bigcommerce/get_recently_viewed_items"];
exports.modules = {

/***/ "nextjs-cors":
/*!******************************!*\
  !*** external "nextjs-cors" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("nextjs-cors");

/***/ }),

/***/ "(api)/./pages/api/bigcommerce/get_recently_viewed_items.js":
/*!************************************************************!*\
  !*** ./pages/api/bigcommerce/get_recently_viewed_items.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ get_recently_viewed_items)\n/* harmony export */ });\n/* harmony import */ var nextjs_cors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nextjs-cors */ \"nextjs-cors\");\n/* harmony import */ var nextjs_cors__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nextjs_cors__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function get_recently_viewed_items(req, res) {\n  const logTitle = \" get_recently_viewed_items() \";\n\n  try {\n    console.log(logTitle, \"EXECUTED!\");\n    await nextjs_cors__WEBPACK_IMPORTED_MODULE_0___default()(req, res, {\n      methods: ['GET', 'HEAD', 'PUT', 'PATCH', 'POST', 'DELETE'],\n      origin: '*',\n      optionsSuccessStatus: 200 // some legacy browsers (IE11, various SmartTVs) choke on 204\n\n    });\n    const requestBody = req.body;\n    const {\n      storeHash,\n      accessToken,\n      customerId\n    } = requestBody;\n    let responseObj = {};\n    responseObj.status = \"ERROR\";\n    responseObj.message = \"Unexpected error!\";\n\n    if (storeHash && accessToken) {\n      if (customerId) {\n        let productsCatalogMapObj = {};\n        getProductsCatalog(storeHash, accessToken).then(response => response.json()).then(getProductsCatalogResponseObj => {\n          if (getProductsCatalogResponseObj && getProductsCatalogResponseObj.data && getProductsCatalogResponseObj.data.length > 0) {\n            let productsMapObj = {};\n\n            for (let index1 in getProductsCatalogResponseObj.data) {\n              const productDataObj = getProductsCatalogResponseObj.data[index1];\n              if (productDataObj.id && !productsMapObj[productDataObj.id]) productsMapObj[productDataObj.id] = productDataObj;\n            }\n\n            console.log(logTitle + \"productsMapObj\", productsMapObj);\n            getCustomerById(storeHash, accessToken, customerId).then(response => response.json()).then(getCustomerResponseObj => {\n              let recentlyViewedProductsDataMapObj = {};\n\n              if (getCustomerResponseObj && getCustomerResponseObj.id) {\n                let recentlyViewedProductsMapObj = getCustomerResponseObj.notes ? JSON.parse(getCustomerResponseObj.notes) : {};\n                console.log(logTitle + \"recentlyViewedProductsMapObj\", recentlyViewedProductsMapObj);\n\n                for (let dateString in recentlyViewedProductsMapObj) {\n                  const recentlyViewedProductIds = recentlyViewedProductsMapObj[dateString];\n\n                  for (let index2 in recentlyViewedProductIds) {\n                    let recentlyViewedProductId = recentlyViewedProductIds[index2];\n                    recentlyViewedProductIds[index2] = productsMapObj[recentlyViewedProductId];\n                  }\n                }\n\n                responseObj.status = \"SUCCESS\";\n                responseObj.message = \"Fetched products!\";\n                responseObj.data = {\n                  recentlyViewedProductsMapObj\n                }; // responseObj.otherResponse = getProductsCatalogResponseObj;\n\n                res.json(responseObj);\n              }\n            });\n          }\n        });\n      } else {\n        responseObj.message = \"Customer ID not found! Please also provide Customer ID.\";\n        res.json(responseObj);\n      }\n    } else {\n      responseObj.message = \"Please provide account auth info!\";\n      res.json(responseObj);\n    }\n  } catch (e) {\n    console.error(\"ERROR IN\" + logTitle, e);\n  }\n}\n\nfunction getCustomerById(storeHash, accessToken, customerId) {\n  const logTitle = \" getCustomerById() \";\n\n  try {\n    const requestUrl = \"https://api.bigcommerce.com/stores/\" + storeHash + \"/v2/customers/\" + customerId;\n    const requestHeaders = {\n      \"X-Auth-Token\": accessToken,\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    };\n    return fetch(requestUrl, {\n      method: \"GET\",\n      headers: requestHeaders\n    });\n  } catch (e) {\n    console.error(\"ERROR IN\" + logTitle, e);\n  }\n}\n\nfunction getProductsCatalog(storeHash, accessToken) {\n  const logTitle = \" getProductsCatalog() \";\n\n  try {\n    const requestUrl = \"https://api.bigcommerce.com/stores/\" + storeHash + \"/v3/catalog/products?include=images\"; //https://api.bigcommerce.com/stores/{store_hash}/v3/catalog/products\n\n    const requestHeaders = {\n      \"host\": \"api.bigcommerce.com\",\n      \"X-Auth-Token\": accessToken,\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    };\n    return fetch(requestUrl, {\n      method: \"GET\",\n      headers: requestHeaders\n    });\n  } catch (e) {\n    console.error(\"ERROR IN\" + logTitle, e);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYmlnY29tbWVyY2UvZ2V0X3JlY2VudGx5X3ZpZXdlZF9pdGVtcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNlLGVBQWVDLHlCQUFmLENBQXlDQyxHQUF6QyxFQUE4Q0MsR0FBOUMsRUFBbUQ7RUFDOUQsTUFBTUMsUUFBUSxHQUFHLCtCQUFqQjs7RUFDQSxJQUFJO0lBQ0FDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixRQUFaLEVBQXNCLFdBQXRCO0lBQ0EsTUFBTUosa0RBQVEsQ0FBQ0UsR0FBRCxFQUFNQyxHQUFOLEVBQVc7TUFDckJJLE9BQU8sRUFBRSxDQUFDLEtBQUQsRUFBUSxNQUFSLEVBQWdCLEtBQWhCLEVBQXVCLE9BQXZCLEVBQWdDLE1BQWhDLEVBQXdDLFFBQXhDLENBRFk7TUFFckJDLE1BQU0sRUFBRSxHQUZhO01BR3JCQyxvQkFBb0IsRUFBRSxHQUhELENBR007O0lBSE4sQ0FBWCxDQUFkO0lBS0EsTUFBTUMsV0FBVyxHQUFHUixHQUFHLENBQUNTLElBQXhCO0lBQ0EsTUFBTTtNQUFDQyxTQUFEO01BQVlDLFdBQVo7TUFBeUJDO0lBQXpCLElBQXVDSixXQUE3QztJQUVBLElBQUlLLFdBQVcsR0FBRyxFQUFsQjtJQUNBQSxXQUFXLENBQUNDLE1BQVosR0FBcUIsT0FBckI7SUFDQUQsV0FBVyxDQUFDRSxPQUFaLEdBQXNCLG1CQUF0Qjs7SUFFQSxJQUFJTCxTQUFTLElBQUlDLFdBQWpCLEVBQThCO01BQzFCLElBQUlDLFVBQUosRUFBZ0I7UUFDWixJQUFJSSxxQkFBcUIsR0FBRyxFQUE1QjtRQUNBQyxrQkFBa0IsQ0FBQ1AsU0FBRCxFQUFZQyxXQUFaLENBQWxCLENBQ0NPLElBREQsQ0FDTUMsUUFBUSxJQUFJQSxRQUFRLENBQUNDLElBQVQsRUFEbEIsRUFFQ0YsSUFGRCxDQUVNRyw2QkFBNkIsSUFBSTtVQUNuQyxJQUFHQSw2QkFBNkIsSUFBSUEsNkJBQTZCLENBQUNDLElBQS9ELElBQXVFRCw2QkFBNkIs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TSxFQUFFLEtBRGE7TUFFckJDLE9BQU8sRUFBRUg7SUFGWSxDQUFiLENBQVo7RUFJSCxDQVhELENBV0UsT0FBTUgsQ0FBTixFQUFTO0lBQ1BwQyxPQUFPLENBQUNxQyxLQUFSLENBQWMsYUFBV3RDLFFBQXpCLEVBQW1DcUMsQ0FBbkM7RUFDSDtBQUNKOztBQUVELFNBQVN0QixrQkFBVCxDQUE0QlAsU0FBNUIsRUFBdUNDLFdBQXZDLEVBQW9EO0VBQ2hELE1BQU1ULFFBQVEsR0FBRyx3QkFBakI7O0VBQ0EsSUFBSTtJQUNBLE1BQU11QyxVQUFVLEdBQUcsd0NBQXNDL0IsU0FBdEMsR0FBZ0QscUNBQW5FLENBREEsQ0FFQTs7SUFDQSxNQUFNZ0MsY0FBYyxHQUFHO01BQ25CLFFBQVEscUJBRFc7TUFFbkIsZ0JBQWdCL0IsV0FGRztNQUduQixnQkFBZ0Isa0JBSEc7TUFJbkIsVUFBVTtJQUpTLENBQXZCO0lBTUEsT0FBT2dDLEtBQUssQ0FBQ0YsVUFBRCxFQUFhO01BQ3JCRyxNQUFNLEVBQUUsS0FEYTtNQUVyQkMsT0FBTyxFQUFFSDtJQUZZLENBQWIsQ0FBWjtFQUlILENBYkQsQ0FhRSxPQUFNSCxDQUFOLEVBQVM7SUFDUHBDLE9BQU8sQ0FBQ3FDLEtBQVIsQ0FBYyxhQUFXdEMsUUFBekIsRUFBbUNxQyxDQUFuQztFQUNIO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYW1wbGUtYXBwLW5vZGVqcy8uL3BhZ2VzL2FwaS9iaWdjb21tZXJjZS9nZXRfcmVjZW50bHlfdmlld2VkX2l0ZW1zLmpzPzYzN2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRDb3JzIGZyb20gXCJuZXh0anMtY29yc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBnZXRfcmVjZW50bHlfdmlld2VkX2l0ZW1zKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBsb2dUaXRsZSA9IFwiIGdldF9yZWNlbnRseV92aWV3ZWRfaXRlbXMoKSBcIjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cobG9nVGl0bGUsIFwiRVhFQ1VURUQhXCIpXHJcbiAgICAgICAgYXdhaXQgTmV4dENvcnMocmVxLCByZXMsIHtcclxuICAgICAgICAgICAgbWV0aG9kczogWydHRVQnLCAnSEVBRCcsICdQVVQnLCAnUEFUQ0gnLCAnUE9TVCcsICdERUxFVEUnXSxcclxuICAgICAgICAgICAgb3JpZ2luOiAnKicsXHJcbiAgICAgICAgICAgIG9wdGlvbnNTdWNjZXNzU3RhdHVzOiAyMDAsIC8vIHNvbWUgbGVnYWN5IGJyb3dzZXJzIChJRTExLCB2YXJpb3VzIFNtYXJ0VFZzKSBjaG9rZSBvbiAyMDRcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHJlcS5ib2R5O1xyXG4gICAgICAgIGNvbnN0IHtzdG9yZUhhc2gsIGFjY2Vzc1Rva2VuLCBjdXN0b21lcklkfSA9IHJlcXVlc3RCb2R5O1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2VPYmogPSB7fTtcclxuICAgICAgICByZXNwb25zZU9iai5zdGF0dXMgPSBcIkVSUk9SXCI7XHJcbiAgICAgICAgcmVzcG9uc2VPYmoubWVzc2FnZSA9IFwiVW5leHBlY3RlZCBlcnJvciFcIjtcclxuXHJcbiAgICAgICAgaWYgKHN0b3JlSGFzaCAmJiBhY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICBpZiAoY3VzdG9tZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzQ2F0YWxvZ01hcE9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZ2V0UHJvZHVjdHNDYXRhbG9nKHN0b3JlSGFzaCwgYWNjZXNzVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgICAgICAgICAudGhlbihnZXRQcm9kdWN0c0NhdGFsb2dSZXNwb25zZU9iaiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZ2V0UHJvZHVjdHNDYXRhbG9nUmVzcG9uc2VPYmogJiYgZ2V0UHJvZHVjdHNDYXRhbG9nUmVzcG9uc2VPYmouZGF0YSAmJiBnZXRQcm9kdWN0c0NhdGFsb2dSZXNwb25zZU9iai5kYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzTWFwT2JqID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4MSBpbiBnZXRQcm9kdWN0c0NhdGFsb2dSZXNwb25zZU9iai5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0RGF0YU9iaiA9IGdldFByb2R1Y3RzQ2F0YWxvZ1Jlc3BvbnNlT2JqLmRhdGFbaW5kZXgxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0RGF0YU9iai5pZCAmJiAhcHJvZHVjdHNNYXBPYmpbcHJvZHVjdERhdGFPYmouaWRdKSBwcm9kdWN0c01hcE9ialtwcm9kdWN0RGF0YU9iai5pZF0gPSBwcm9kdWN0RGF0YU9iajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsb2dUaXRsZSArIFwicHJvZHVjdHNNYXBPYmpcIiwgcHJvZHVjdHNNYXBPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRDdXN0b21lckJ5SWQoc3RvcmVIYXNoLCBhY2Nlc3NUb2tlbiwgY3VzdG9tZXJJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihnZXRDdXN0b21lclJlc3BvbnNlT2JqID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWNlbnRseVZpZXdlZFByb2R1Y3RzRGF0YU1hcE9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ2V0Q3VzdG9tZXJSZXNwb25zZU9iaiAmJiBnZXRDdXN0b21lclJlc3BvbnNlT2JqLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlY2VudGx5Vmlld2VkUHJvZHVjdHNNYXBPYmogPSBnZXRDdXN0b21lclJlc3BvbnNlT2JqLm5vdGVzID8gSlNPTi5wYXJzZShnZXRDdXN0b21lclJlc3BvbnNlT2JqLm5vdGVzKSA6IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxvZ1RpdGxlK1wicmVjZW50bHlWaWV3ZWRQcm9kdWN0c01hcE9ialwiLCByZWNlbnRseVZpZXdlZFByb2R1Y3RzTWFwT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBkYXRlU3RyaW5nIGluIHJlY2VudGx5Vmlld2VkUHJvZHVjdHNNYXBPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZW50bHlWaWV3ZWRQcm9kdWN0SWRzID0gcmVjZW50bHlWaWV3ZWRQcm9kdWN0c01hcE9ialtkYXRlU3RyaW5nXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXgyIGluIHJlY2VudGx5Vmlld2VkUHJvZHVjdElkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlY2VudGx5Vmlld2VkUHJvZHVjdElkID0gcmVjZW50bHlWaWV3ZWRQcm9kdWN0SWRzW2luZGV4Ml07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlbnRseVZpZXdlZFByb2R1Y3RJZHNbaW5kZXgyXSA9IHByb2R1Y3RzTWFwT2JqW3JlY2VudGx5Vmlld2VkUHJvZHVjdElkXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlT2JqLnN0YXR1cyA9IFwiU1VDQ0VTU1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlT2JqLm1lc3NhZ2UgPSBcIkZldGNoZWQgcHJvZHVjdHMhXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPYmouZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZW50bHlWaWV3ZWRQcm9kdWN0c01hcE9ialxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZU9iai5vdGhlclJlc3BvbnNlID0gZ2V0UHJvZHVjdHNDYXRhbG9nUmVzcG9uc2VPYmo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmpzb24ocmVzcG9uc2VPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlT2JqLm1lc3NhZ2UgPSBcIkN1c3RvbWVyIElEIG5vdCBmb3VuZCEgUGxlYXNlIGFsc28gcHJvdmlkZSBDdXN0b21lciBJRC5cIjtcclxuICAgICAgICAgICAgICAgIHJlcy5qc29uKHJlc3BvbnNlT2JqKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlT2JqLm1lc3NhZ2UgPSBcIlBsZWFzZSBwcm92aWRlIGFjY291bnQgYXV0aCBpbmZvIVwiO1xyXG4gICAgICAgICAgICByZXMuanNvbihyZXNwb25zZU9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SIElOXCIrbG9nVGl0bGUsIGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDdXN0b21lckJ5SWQoc3RvcmVIYXNoLCBhY2Nlc3NUb2tlbiwgY3VzdG9tZXJJZCkge1xyXG4gICAgY29uc3QgbG9nVGl0bGUgPSBcIiBnZXRDdXN0b21lckJ5SWQoKSBcIjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFVybCA9IFwiaHR0cHM6Ly9hcGkuYmlnY29tbWVyY2UuY29tL3N0b3Jlcy9cIitzdG9yZUhhc2grXCIvdjIvY3VzdG9tZXJzL1wiK2N1c3RvbWVySWQ7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgIFwiWC1BdXRoLVRva2VuXCI6IGFjY2Vzc1Rva2VuLFxyXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgXCJBY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBmZXRjaChyZXF1ZXN0VXJsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdEhlYWRlcnNcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBJTlwiK2xvZ1RpdGxlLCBlKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UHJvZHVjdHNDYXRhbG9nKHN0b3JlSGFzaCwgYWNjZXNzVG9rZW4pIHtcclxuICAgIGNvbnN0IGxvZ1RpdGxlID0gXCIgZ2V0UHJvZHVjdHNDYXRhbG9nKCkgXCI7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RVcmwgPSBcImh0dHBzOi8vYXBpLmJpZ2NvbW1lcmNlLmNvbS9zdG9yZXMvXCIrc3RvcmVIYXNoK1wiL3YzL2NhdGFsb2cvcHJvZHVjdHM/aW5jbHVkZT1pbWFnZXNcIjtcclxuICAgICAgICAvL2h0dHBzOi8vYXBpLmJpZ2NvbW1lcmNlLmNvbS9zdG9yZXMve3N0b3JlX2hhc2h9L3YzL2NhdGFsb2cvcHJvZHVjdHNcclxuICAgICAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IHtcclxuICAgICAgICAgICAgXCJob3N0XCI6IFwiYXBpLmJpZ2NvbW1lcmNlLmNvbVwiLFxyXG4gICAgICAgICAgICBcIlgtQXV0aC1Ub2tlblwiOiBhY2Nlc3NUb2tlbixcclxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgIFwiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZmV0Y2gocmVxdWVzdFVybCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRVJST1IgSU5cIitsb2dUaXRsZSwgZSk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRDb3JzIiwiZ2V0X3JlY2VudGx5X3ZpZXdlZF9pdGVtcyIsInJlcSIsInJlcyIsImxvZ1RpdGxlIiwiY29uc29sZSIsImxvZyIsIm1ldGhvZHMiLCJvcmlnaW4iLCJvcHRpb25zU3VjY2Vzc1N0YXR1cyIsInJlcXVlc3RCb2R5IiwiYm9keSIsInN0b3JlSGFzaCIsImFjY2Vzc1Rva2VuIiwiY3VzdG9tZXJJZCIsInJlc3BvbnNlT2JqIiwic3RhdHVzIiwibWVzc2FnZSIsInByb2R1Y3RzQ2F0YWxvZ01hcE9iaiIsImdldFByb2R1Y3RzQ2F0YWxvZyIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJnZXRQcm9kdWN0c0NhdGFsb2dSZXNwb25zZU9iaiIsImRhdGEiLCJsZW5ndGgiLCJwcm9kdWN0c01hcE9iaiIsImluZGV4MSIsInByb2R1Y3REYXRhT2JqIiwiaWQiLCJnZXRDdXN0b21lckJ5SWQiLCJnZXRDdXN0b21lclJlc3BvbnNlT2JqIiwicmVjZW50bHlWaWV3ZWRQcm9kdWN0c0RhdGFNYXBPYmoiLCJyZWNlbnRseVZpZXdlZFByb2R1Y3RzTWFwT2JqIiwibm90ZXMiLCJKU09OIiwicGFyc2UiLCJkYXRlU3RyaW5nIiwicmVjZW50bHlWaWV3ZWRQcm9kdWN0SWRzIiwiaW5kZXgyIiwicmVjZW50bHlWaWV3ZWRQcm9kdWN0SWQiLCJlIiwiZXJyb3IiLCJyZXF1ZXN0VXJsIiwicmVxdWVzdEhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/bigcommerce/get_recently_viewed_items.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/bigcommerce/get_recently_viewed_items.js"));
module.exports = __webpack_exports__;

})();